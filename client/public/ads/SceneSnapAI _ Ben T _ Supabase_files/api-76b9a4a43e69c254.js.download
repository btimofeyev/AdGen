!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="aab5e296-26cc-4ace-a994-75c922c2eebe",e._sentryDebugIdIdentifier="sentry-dbid-aab5e296-26cc-4ace-a994-75c922c2eebe")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[398],{134:(e,t,a)=>{"use strict";a.d(t,{YX:()=>c,_4:()=>d,gI:()=>o,ge:()=>i,lB:()=>l});var s=a(80263),r=a(53239),n=a(2);let l=e=>{let{children:t,header:a,footer:r}=e;return(0,s.jsxs)(i,{"data-sentry-element":"FormPanelContainer","data-sentry-component":"FormPanel","data-sentry-source-file":"FormPanel.tsx",children:[a&&(0,s.jsx)(o,{children:a}),(0,s.jsx)(c,{className:"divide-y","data-sentry-element":"FormPanelContent","data-sentry-source-file":"FormPanel.tsx",children:t}),r&&(0,s.jsx)(d,{children:r})]})},i=(0,r.forwardRef)((e,t)=>{let{children:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("bg-surface-100 border overflow-hidden rounded-md shadow max-w-full",r.className),children:a})});i.displayName=i.displayName;let o=(0,r.forwardRef)((e,t)=>{let{children:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("border-default border-b px-8 py-4",r.className),children:a})});o.displayName=o.displayName;let c=(0,r.forwardRef)((e,t)=>{let{children:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("divide-border flex flex-col gap-0",r.className),children:a})});c.displayName=c.displayName;let d=(0,r.forwardRef)((e,t)=>{let{children:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("border-t",r.className),children:a})});d.displayName=d.displayName},8848:(e,t,a)=>{var s=a(35902),r=a(80544),n=Math.max;e.exports=function(e,t,a){var l=null==e?0:e.length;if(!l)return -1;var i=null==a?0:r(a);return i<0&&(i=n(l+i,0)),s(e,t,i)}},11375:(e,t,a)=>{"use strict";a.d(t,{d:()=>d});var s=a(80263),r=a(44893),n=a(79279),l=a(53239),i=a(2);let o=(0,n.F)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),c=(0,n.F)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),d=l.forwardRef((e,t)=>{let{className:a,size:n,...l}=e;return(0,s.jsx)(r.bL,{className:(0,i.cn)(o({size:n}),a),...l,ref:t,children:(0,s.jsx)(r.zi,{className:(0,i.cn)(c({size:n}))})})});d.displayName=r.bL.displayName},15986:(e,t,a)=>{"use strict";a.d(t,{U:()=>c});var s=a(32144),r=a(80251),n=a(73969),l=a(3807),i=a(67849);async function o(e){let{projectRef:t,config:a}=e,{data:s,error:r}=await (0,l.F6)("/platform/auth/{ref}/config",{params:{path:{ref:t}},body:{...a}});return r&&(0,l.H4)(r),s}let c=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,s.jE)();return(0,r.n)(e=>o(e),{async onSuccess(t,a,s){let{projectRef:r}=a;await l.invalidateQueries(i.Z.authConfig(r)),await (null==e?void 0:e(t,a,s))},async onError(e,a,s){void 0===t?n.oR.error("Failed to update auth configuration: ".concat(e.message)):t(e,a,s)},...a})}},16993:(e,t,a)=>{"use strict";a.d(t,{xf:()=>p,sD:()=>j,Oe:()=>w,DG:()=>v,hw:()=>g});var s=a(80263),r=a(23278),n=a(98667),l=a(64238),i=a(53239),o=a(79279),c=a(76403),d=a(2),u=a(38952),m=a(50854);let x=i.createContext(null),h=(0,d.cn)("relative text-foreground-lighter text-left px-2 py-1.5 rounded","hover:text-foreground hover:!bg-overlay-hover w-full flex items-center space-x-2","peer-data-[value=true]:bg-overlay-hover peer-data-[value=true]:text-strong");function f(){let e=i.useContext(x);if(!e)throw Error("useMultiSelect must be used within a MultiSelectProvider");return e}function p(e){var t;let{values:a=[],onValuesChange:r,disabled:n,dir:l,size:o,className:c,children:u,...h}=e,f=i.useRef(null),[p,g]=i.useState(!1),[y,b]=i.useState(""),[j,v]=i.useState(-1),w=i.useCallback(e=>{a.includes(e)?r(a.filter(t=>t!==e)||[]):r([...a,e])},[a]);t=()=>{p&&g(!p)},(0,i.useEffect)(()=>{let e=e=>{!f.current||f.current.contains(e.target)||t(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[f,t]);let N=i.useCallback(e=>{switch(e.key){case"Backspace":case"Delete":a.length>0&&0===y.length&&(-1!==j&&j<a.length?(r(a.filter(e=>e!==a[j])),v(j-1<0?0:j-1)):r(a.filter(e=>e!==a[a.length-1])));break;case"Escape":if(-1!==j?v(-1):g(!1),f.current){let e=f.current.querySelector('button[role="combobox"]');e&&e.focus()}break;case"Enter":g(!0)}},[a,y,j]);return(0,s.jsx)(x.Provider,{value:{values:a,toggleValue:w,onValuesChange:r,open:p,setOpen:g,inputValue:y,setInputValue:b,activeIndex:j,setActiveIndex:v,size:o||"small",disabled:n},"data-sentry-element":"unknown","data-sentry-component":"MultiSelector","data-sentry-source-file":"multi-select.tsx",children:(0,s.jsx)(m.uB,{ref:f,onKeyDown:N,className:(0,d.cn)("relative w-auto overflow-visible bg-transparent flex flex-col",c),dir:l,...h,"data-sentry-element":"Command","data-sentry-source-file":"multi-select.tsx",children:u})})}(0,o.F)("",{variants:{size:{...c.vs}},defaultVariants:{size:c.FE}});let g=i.forwardRef((e,t)=>{let{label:a,persistLabel:l=!1,className:o,deletableBadge:c=!0,badgeLimit:m=9999,showIcon:x=!0,mode:h="combobox",children:p,...g}=e,{activeIndex:y,values:j,setInputValue:v,toggleValue:w,disabled:N,setOpen:S}=f(),A=i.useRef(null);i.useImperativeHandle(t,()=>A.current);let P=i.useRef(null),k=i.useRef(null),[C,I]=i.useState([]),[_,T]=i.useState(0),[E,R]=i.useState(!1),M="wrap"===m,z="number"==typeof m,F="inline-combobox"===h;i.useEffect(()=>{(null==A?void 0:A.current)&&k.current&&(M?(I(j),T(0)):(I(j.slice(0,m)),T(Math.max(0,j.length-m))))},[j,m]);let D="rounded shrink-0 px-1.5",L=i.useCallback(e=>{S(!0),v(""),F&&(e.stopPropagation(),e.preventDefault(),setTimeout(()=>{var e;null==(e=P.current)||e.focus()},100))},[]);return(0,s.jsxs)("button",{ref:A,onClick:e=>!E&&L(e),disabled:N,type:"button",role:"combobox",className:(0,d.cn)("flex w-full min-w-[200px] min-h-[40px] items-center justify-between rounded-md border","border-alternative bg-foreground/[.026] px-3 py-2 text-sm","ring-offset-background placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","hover:border-primary transition-colors duration-200",o),...g,children:[(0,s.jsxs)("div",{ref:k,className:(0,d.cn)("flex gap-1 -ml-1 overflow-hidden flex-1",M&&"flex-wrap",!M&&"overflow-x-auto scrollbar-thin scrollbar-track-transparent transition-colors scrollbar-thumb-muted-foreground dark:scrollbar-thumb-muted scrollbar-thumb-rounded-lg"),children:[C.map(e=>(0,s.jsxs)(u.E,{className:D,children:[e,c&&(0,s.jsx)("div",{onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),onClick:t=>{t.stopPropagation(),w(e),R(!1)},className:"ml-1 text-foreground-lighter hover:text-foreground-light transition-colors pointer-events-auto",children:(0,s.jsx)(r.A,{size:12})})]},e)),_>0&&(0,s.jsx)(u.E,{className:D,children:z&&m<1?"".concat(_," item").concat(_>1?"s":""," selected"):"+".concat(_)}),(0,s.jsx)("span",{className:(0,d.cn)("text-foreground-muted whitespace-nowrap leading-[1.375rem] ml-1 opacity-0 transition-opacity hidden",!F&&(l||0===j.length)&&"opacity-100 visible inline"),children:a}),F&&(0,s.jsx)(b,{ref:P,showSearchIcon:!1,onValueChange:-1===y?v:void 0,placeholder:a,autoFocus:!1,wrapperClassName:(0,d.cn)("px-0 flex-1 border-none truncate",M&&"min-w-[85px]"),className:"py-0 px-1 truncate"})]}),x&&(0,s.jsx)(n.A,{size:16,strokeWidth:2,className:"text-foreground-lighter shrink-0 ml-1.5"})]})});g.displayName="MultiSelectorTrigger",p.Trigger=g;let y=(0,o.F)("bg-control border",{variants:{size:{...c.vs}},defaultVariants:{size:c.FE}}),b=i.forwardRef((e,t)=>{let{className:a,wrapperClassName:r,showResetIcon:n,showSearchIcon:l,...o}=e,{open:c,setOpen:u,inputValue:x,setInputValue:h,activeIndex:p,setActiveIndex:g,size:b,disabled:j}=f(),v=i.useRef(null);i.useImperativeHandle(t,()=>v.current);let w=()=>{setTimeout(()=>{(null==v?void 0:v.current)&&c&&v.current.focus()},100)};return(0,i.useEffect)(()=>{if(w(),!c){var e;null==(e=v.current)||e.blur()}},[c]),(0,s.jsx)(m.G7,{ref:v,value:x,onValueChange:-1===p?h:void 0,onFocus:()=>u(!0),onClick:()=>g(-1),tabIndex:c?0:-1,disabled:j,showSearchIcon:l,showResetIcon:n,handleReset:()=>{h(""),w()},wrapperClassName:r,className:(0,d.cn)(y({size:b}),"text-sm bg-transparent h-full flex-grow border-none outline-none placeholder:text-foreground-muted flex-1",-1!==p&&"caret-transparent",a),...o})});b.displayName="MultiSelectorInput",p.Input=b;let j=i.forwardRef((e,t)=>{let{className:a,children:r}=e,{open:n}=f();return(0,s.jsx)("div",{ref:t,className:(0,d.cn)("absolute w-full bg-overlay shadow-md z-10 border border-overlay top-[calc(100%+0.25rem)] rounded-md transition-all -translate-y-3",n?"opacity-100 translate-y-0 visible duration-150 ease-[.76,0,.23,1]":"opacity-0 -translate-y-3 invisible duration-0",a),children:n&&r})});j.displayName="MultiSelectorContent",p.Content=j;let v=i.forwardRef((e,t)=>{let{className:a,children:r,creatable:n=!1}=e,{open:l,inputValue:i,setInputValue:o,toggleValue:c}=f(),u=r?Array.isArray(r)?r:"object"==typeof r&&"props"in r?r.props.children:[]:[],x=u.filter(e=>!!e.props.value).map(e=>e.props.value.toLowerCase()).some(e=>e===i.toLowerCase());return(0,s.jsxs)(m.oI,{ref:t,className:(0,d.cn)("p-2 flex flex-col gap-2 scrollbar-thin scrollbar-track-transparent transition-colors","scrollbar-thumb-muted-foreground dark:scrollbar-thumb-muted","scrollbar-thumb-rounded-lg w-full max-h-[300px] overflow-y-auto",a),children:[r,n&&i.length>0&&!x?(0,s.jsxs)(m.h_,{role:"option",onSelect:()=>{l&&c(i),o("")},className:h,children:['Create "',i,'"']}):n&&0===u.length?(0,s.jsx)("div",{className:"p-2 py-1.5 text-xs text-foreground-lighter font-italic",children:"Type to add a value"}):(0,s.jsx)(m.xL,{children:(0,s.jsx)("span",{className:"text-foreground-muted",children:"No results found"})})]})});v.displayName="MultiSelectorList",p.List=v;let w=i.forwardRef((e,t)=>{let{className:a,value:r,children:n,...i}=e,{values:o,setInputValue:c,toggleValue:u,open:x}=f(),p=o.includes(r);return(0,s.jsxs)(m.h_,{ref:t,tabIndex:x?0:-1,role:"option",onSelect:()=>{x&&u(r),c("")},className:(0,d.cn)(h,a),...i,children:[(0,s.jsx)("div",{className:(0,d.cn)("flex items-center justify-center","peer h-4 w-4 shrink-0 rounded border border-control bg-control/25 ring-offset-background","transition-colors duration-150 ease-in-out","hover:border-strong","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-foreground data-[state=checked]:text-background",p?"bg-foreground text-background":"[&_svg]:invisible"),children:(0,s.jsx)(l.A,{className:"h-3 w-3",strokeWidth:4})}),(0,s.jsx)("div",{className:"text-xs flex-grow leading-none pointer-events-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:pointer-events-none peer-disabled:opacity-50",children:n})]})});w.displayName="MultiSelectorItem",p.Item=w},20333:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(47370).A)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},24059:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var s=a(80263),r=a(16477),n=a(99923),l=a(66452),i=a(63320),o=a.n(i),c=a(53239),d=a(16601);let u=(0,c.forwardRef)((e,t)=>{let{icon:a,title:i,description:u,url:m,urlLabel:x="Read more",defaultVisibility:h=!1,hideCollapse:f=!1,button:p,className:g="",block:y=!1}=e,[b,j]=(0,c.useState)(h);return(0,s.jsx)("div",{ref:t,role:"alert",className:"".concat(y?"block w-full":"","\n      block w-full rounded-md border bg-surface-300/25 py-3 ").concat(g),children:(0,s.jsxs)("div",{className:"flex flex-col px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[a&&(0,s.jsx)("span",{className:"text-foreground-lighter",children:a}),(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)("h5",{className:"text-sm text-foreground",children:i})})]}),u&&!f?(0,s.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>j(!b),children:b?(0,s.jsx)(r.A,{size:14,strokeWidth:1.5}):(0,s.jsx)(n.A,{size:14,strokeWidth:1.5})}):null]}),(u||m||p)&&(0,s.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(b?"mt-3":""),style:{maxHeight:500*!!b},children:[(0,s.jsx)("div",{className:"text-foreground-light text-sm",children:u}),m&&(0,s.jsx)("div",{children:(0,s.jsx)(d.$,{asChild:!0,type:"default",icon:(0,s.jsx)(l.A,{}),children:(0,s.jsx)(o(),{href:m,target:"_blank",rel:"noreferrer",children:x})})}),p&&(0,s.jsx)("div",{children:p})]})]})})});u.displayName="InformationBox";let m=u},26629:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(47370).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},42190:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(80263),r=a(63320),n=a.n(r),l=a(42677),i=a(38952),o=a(16601);let c=e=>{let{name:t="",isActive:a,isExternal:r,icon:c,rightIcon:d,url:u="",target:m="_self",onClick:x,textClassName:h="",hoverText:f="",label:p}=e,g=(0,s.jsx)(l.Ay.Item,{icon:c,rounded:!0,active:a,onClick:x,children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,s.jsxs)("div",{title:f||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+h,children:[(0,s.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==p&&(0,s.jsx)(i.E,{variant:"warning",className:"py-0 px-1.5 capitalize",children:p})]}),d&&(0,s.jsx)("div",{children:d})]})});return u?r?(0,s.jsx)(o.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,s.jsx)(n(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,s.jsx)(n(),{href:u,className:"block",target:m,children:g}):g}},42677:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>m});var s=a(80263),r=a(53239),n=a(77690),l=a(2);function i(e){let{children:t,className:a,tag:r="div",style:n}=e;return(0,s.jsx)("".concat(r),{style:n,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}i.Title=function(e){let{className:t,level:a=1,children:r,style:n}=e;return(0,s.jsx)("h".concat(a),{style:n,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:r})},i.Text=function(e){let{className:t,children:a,style:r,type:n,disabled:l,mark:i,code:o,keyboard:c,underline:d,strikethrough:u,strong:m,small:x}=e;return o?(0,s.jsx)("code",{style:r,children:a}):i?(0,s.jsx)("mark",{style:r,children:a}):c?(0,s.jsx)("kbd",{style:r,children:a}):m?(0,s.jsx)("strong",{style:r,children:a}):(0,s.jsx)("span",{style:r,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:a})},i.Link=function(e){let{children:t,target:a="_blank",href:r,className:n,onClick:l,style:i}=e;return(0,s.jsx)("a",{onClick:l,href:r,target:a,rel:"noopener noreferrer",style:i,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let o=(0,r.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,s.jsx)(o.Provider,{value:{type:t},"data-sentry-element":"unknown","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},d=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:a,ulClassName:r,style:n,type:l="text"}=e;return(0,s.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:a,style:n,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)(c,{type:l,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)("ul",{className:r,children:t})})})}u.Item=function(e){let{children:t,icon:a,active:r,rounded:i,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:u=!1,style:m}=e,x=(0,n.A)("menu"),{type:h}=d(),f=[x.item.base];f.push(x.item.variants[h].base),r?f.push(x.item.variants[h].active):f.push(x.item.variants[h].normal);let p=[x.item.content.base];r?p.push(x.item.content.active):p.push(x.item.content.normal);let g=[x.item.icon.base];return r?g.push(x.item.icon.active):g.push(x.item.icon.normal),(0,s.jsxs)("li",{role:"menuitem",className:(0,l.cn)("outline-none",f),style:m,onClick:o,"aria-current":r?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[a&&(0,s.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:a}),(0,s.jsx)("span",{className:p.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:a,title:r}=e,l=(0,n.A)("menu"),{type:i}=d();return(0,s.jsxs)("div",{className:[l.group.base,l.group.variants[i]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[a&&(0,s.jsx)("span",{className:l.group.icon,children:a}),(0,s.jsx)("span",{className:l.group.content,children:r}),t]})},u.Misc=function(e){let{children:t}=e;return(0,s.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)(i.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)("span",{children:t})})})};let m=u},44893:(e,t,a)=>{"use strict";a.d(t,{bL:()=>v,zi:()=>w});var s=a(54993),r=a(53239),n=a(91968),l=a(63774),i=a(68436),o=a(87990),c=a(15630),d=a(89422),u=a(70297);let m="Switch",[x,h]=(0,i.A)(m),[f,p]=x(m),g=(0,r.forwardRef)((e,t)=>{let{__scopeSwitch:a,name:i,checked:c,defaultChecked:d,required:m,disabled:x,value:h="on",onCheckedChange:p,...g}=e,[y,v]=(0,r.useState)(null),w=(0,l.s)(t,e=>v(e)),N=(0,r.useRef)(!1),S=!y||!!y.closest("form"),[A=!1,P]=(0,o.i)({prop:c,defaultProp:d,onChange:p});return(0,r.createElement)(f,{scope:a,checked:A,disabled:x},(0,r.createElement)(u.sG.button,(0,s.A)({type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":j(A),"data-disabled":x?"":void 0,disabled:x,value:h},g,{ref:w,onClick:(0,n.m)(e.onClick,e=>{P(e=>!e),S&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),S&&(0,r.createElement)(b,{control:y,bubbles:!N.current,name:i,value:h,checked:A,required:m,disabled:x,style:{transform:"translateX(-100%)"}}))}),y=(0,r.forwardRef)((e,t)=>{let{__scopeSwitch:a,...n}=e,l=p("SwitchThumb",a);return(0,r.createElement)(u.sG.span,(0,s.A)({"data-state":j(l.checked),"data-disabled":l.disabled?"":void 0},n,{ref:t}))}),b=e=>{let{control:t,checked:a,bubbles:n=!0,...l}=e,i=(0,r.useRef)(null),o=(0,c.Z)(a),u=(0,d.X)(t);return(0,r.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&t){let s=new Event("click",{bubbles:n});t.call(e,a),e.dispatchEvent(s)}},[o,a,n]),(0,r.createElement)("input",(0,s.A)({type:"checkbox","aria-hidden":!0,defaultChecked:a},l,{tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function j(e){return e?"checked":"unchecked"}let v=g,w=y},49730:(e,t,a)=>{"use strict";a.d(t,{z:()=>o});var s=a(56947),r=a(3807),n=a(58897),l=a(62301);async function i(e,t){let{projectRef:a}=e;if(!a)throw Error("Project ref is required");let{data:s,error:n}=await (0,r.Jt)("/platform/projects/{ref}/load-balancers",{params:{path:{ref:a}},signal:t});return n&&(0,r.H4)(n),s}let o=function(e){let{projectRef:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.I)(l.p.loadBalancers(t),e=>{let{signal:a}=e;return i({projectRef:t},a)},{enabled:a&&void 0!==t&&n.pe,...r})}},64829:(e,t,a)=>{"use strict";a.d(t,{I:()=>n});var s=a(80263),r=a(16601);let n=e=>{let{form:t,hasChanges:a,handleReset:n,helper:l,disabled:i=!1,isSubmitting:o,submitText:c="Save"}=e,d=o||i||!a&&void 0!==a;return(0,s.jsxs)("div",{className:["flex w-full items-center gap-2",l?"justify-between":"justify-end"].join(" "),"data-sentry-component":"FormActions","data-sentry-source-file":"FormActions.tsx",children:[l&&(0,s.jsx)("span",{className:"text-sm text-foreground-lighter",children:l}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.$,{disabled:d,type:"default",htmlType:"reset",onClick:()=>n(),"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:"Cancel"}),(0,s.jsx)(r.$,{form:t,type:"primary",htmlType:"submit",disabled:d,loading:o,"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:c})]})]})}},67144:(e,t,a)=>{"use strict";a.d(t,{l:()=>i});var s=a(80263),r=a(42677),n=a(38952),l=a(42190);let i=e=>{let{page:t,menu:a}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,s.jsx)(r.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:a.map((e,i)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"my-6 space-y-8",children:(0,s.jsxs)("div",{className:"mx-3",children:[(0,s.jsx)(r.Ay.Group,{title:e.title?(0,s.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,s.jsx)("span",{children:e.title}),e.isPreview&&(0,s.jsx)(n.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,s.jsx)("div",{children:e.items.map(e=>{let a=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,s.jsx)(l.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:a,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),i!==a.length-1&&(0,s.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},68649:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eH});var s=a(80263),r=a(53337),n=a(32144),l=a(65325),i=a(53239),o=a(73969),c=a(82489),d=a(45969),u=a(37518),m=a(41960),x=a(74917),h=a(17234),f=a(56370),p=a(32429),g=a(15232),y=a(49730),b=a(71433),j=a(58897),v=a(33887),w=a(71171),N=a(38952);let S={[r.RZ.APIServicesConfigurationUpdateFailed]:"failed to update configuration for API services",[r.RZ.APIServicesRestartFailed]:"failed to restart API services",[r.RZ.DatabaseAdminAPIConfigurationUpdateFailed]:"failed to update configuration for database admin API",[r.RZ.PostgreSQLRestartFailed]:"failed to restart PostgreSQL service",[r.RZ.SupabaseAPIKeyUpdateFailed]:"failed to update Supabase API key",[r.RZ.APIGatewayUpdateFailed]:"failed to update API Gateway"},A={[r.Ks.RestartedAPIServices]:"restarted API services",[r.Ks.RestartedPostgreSQL]:"restarted PostgreSQL service",[r.Ks.Started]:"started updating",[r.Ks.UpdatedAPIServicesConfiguration]:"updated configuration for API services",[r.Ks.UpdatedDatabaseAdminAPIConfiguration]:"updated configuration for database admin API",[r.Ks.UpdatedAPIGatewayConfiguration]:"updated configuration for API Gateway"};var P=a(60045),k=a(11352),C=a(68656),I=a(94786);let _=(0,a(47370).A)("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);var T=a(20333),E=a(40435),R=a(71547),M=a(86692),z=a(79319),F=a(80251),D=a(3807);async function L(e){let{projectRef:t,jwtSecret:a,changeTrackingId:s}=e,{data:r,error:n}=await (0,D.F6)("/platform/projects/{ref}/config/secrets",{params:{path:{ref:t}},body:{jwt_secret:a,change_tracking_id:s}});return n&&(0,D.H4)(n),r}let J=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,n.jE)();return(0,F.n)(e=>L(e),{async onSuccess(t,a,r){let{projectRef:n}=a;await s.invalidateQueries(p.n.jwtSecretUpdatingStatus(n)),await (null==e?void 0:e(t,a,r))},async onError(e,a,s){void 0===t?o.oR.error("Failed to submit JWT secret update request: ".concat(e.message)):t(e,a,s)},...a})};var W=a(42202),H=a(86137),U=a(15986),q=a(65904),B=a(90206),V=a(80109),G=a(97851),O=a(16601),X=a(33656),K=a(55335),$=a(98883),Q=a(55739),Y=a(36212),Z=a(82942),ee=a(64829);let et=(0,M.object)({JWT_EXP:(0,M.number)().max(604800,"Must be less than 604800").required("Must have a JWT expiry value")}),ea=()=>{var e;let{ref:t}=(0,c.g)(),[a,n]=(0,i.useState)(""),[d,u]=(0,i.useState)(!1),[x,h]=(0,i.useState)(!1),[p,g]=(0,i.useState)(!1),y=(0,q.SE)(P.aG.READ,"field.jwt_secret"),b=(0,q.SE)(P.aG.INFRA_EXECUTE,"queue_job.projects.update_jwt"),j=(0,q.SE)(P.aG.UPDATE,"custom_config_gotrue"),{data:v}=(0,f.l)({projectRef:t}),{data:N,isError:M}=(0,W.y)({projectRef:t}),{mutateAsync:F,isLoading:D}=J(),{data:L,error:ea,isLoading:es,isSuccess:er}=(0,H.op)({projectRef:t}),{mutate:en,isLoading:el}=(0,U.U)(),{Failed:ei,Updated:eo,Updating:ec}=r.bh,ed=(null==v?void 0:v.jwtSecretUpdateStatus)===ei,eu=(null==v?void 0:v.jwtSecretUpdateStatus)===void 0||(null==v?void 0:v.jwtSecretUpdateStatus)===eo,em=(null==v?void 0:v.jwtSecretUpdateStatus)===ec,ex=S[null==v?void 0:v.jwtSecretUpdateError],eh=A[null==v?void 0:v.jwtSecretUpdateProgress],ef={JWT_EXP:null!=(e=null==L?void 0:L.JWT_EXP)?e:3600},ep=async(e,a)=>{let{resetForm:s}=a;if(!t)return console.error("Project ref is required");en({projectRef:t,config:e},{onError:e=>{o.oR.error("Failed to update JWT expiry: ".concat(null==e?void 0:e.message))},onSuccess:()=>{o.oR.success("Successfully updated JWT expiry"),s({values:e,initialValues:e})}})};async function eg(e,a){if(!t)return console.error("Project ref is required");let s=(0,B.gZ)();try{await F({projectRef:t,jwtSecret:e,changeTrackingId:s}),a(!1),(0,o.oR)("Successfully submitted JWT secret update request. Please wait while your project is updated.")}catch(e){}}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V.A,{id:"jwt-exp-form",initialValues:ef,onSubmit:ep,validationSchema:et,"data-sentry-element":"Form","data-sentry-source-file":"JWTSettings.tsx",children:e=>{let{handleReset:t,values:a,initialValues:r}=e,n=JSON.stringify(a)!==JSON.stringify(r);return(0,s.jsx)(m.A,{title:(0,s.jsx)("h5",{className:"mb-0",children:"JWT Settings"}),footer:(0,s.jsx)("div",{className:"flex py-4 w-full",children:(0,s.jsx)(ee.I,{form:"jwt-exp-form",isSubmitting:el,hasChanges:n,handleReset:t,disabled:!j,helper:j?void 0:"You need additional permissions to update JWT settings"})}),children:(0,s.jsx)(m.A.Content,{className:"space-y-6 border-t border-panel-border-interior-light [[data-theme*=dark]_&]:border-panel-border-interior-dark",children:M?(0,s.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,s.jsx)(l.A,{size:16,strokeWidth:1.5}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Failed to retrieve JWT settings"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.A,{label:"JWT Secret",readOnly:!0,copy:y&&eu,reveal:y&&eu,disabled:!0,value:y?ed?"JWT secret update failed":em?"Updating JWT secret...":(null==N?void 0:N.jwt_secret)||"":"You need additional permissions to view the JWT secret",className:"input-mono",descriptionText:"Used to decode your JWTs. You can also use this to mint your own JWTs.",layout:"horizontal"}),(0,s.jsx)(G.A,{id:"JWT_EXP",name:"JWT_EXP",size:"small",label:"Access token expiry time",descriptionText:"How long access tokens are valid for before a refresh token has to be used. Recommendation: 3600 (1 hour).",layout:"horizontal",actions:(0,s.jsx)("span",{className:"mr-3 text-foreground-lighter",children:"seconds"}),disabled:!j||es}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"p-3 px-6 border rounded-md shadow-sm bg-studio",children:em?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(k.A,{className:"animate-spin",size:14}),(0,s.jsxs)("p",{className:"text-sm",children:["Updating JWT secret: ",eh]})]}):(0,s.jsx)("div",{className:"w-full space-y-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-sm",children:"Generate a new JWT secret"}),(0,s.jsx)("p",{className:"text-sm opacity-50",children:"A random secret will be created, or you can create your own."})]}),(0,s.jsx)("div",{className:"flex flex-col items-end",children:em?(0,s.jsx)(O.$,{loading:!0,type:"secondary",children:"Updating JWT secret..."}):b?(0,s.jsxs)(X.rI,{children:[(0,s.jsx)(X.ty,{asChild:!0,children:(0,s.jsx)(O.$,{type:"default",iconRight:(0,s.jsx)(C.A,{size:14}),children:(0,s.jsx)("span",{children:"Generate a new secret"})})}),(0,s.jsxs)(X.SQ,{align:"end",side:"bottom",children:[(0,s.jsxs)(X._2,{className:"space-x-2",onClick:()=>g(!0),children:[(0,s.jsx)(I.A,{size:16}),(0,s.jsx)("p",{children:"Generate a random secret"})]}),(0,s.jsx)(X.mB,{}),(0,s.jsxs)(X._2,{className:"space-x-2",onClick:()=>h(!0),children:[(0,s.jsx)(_,{size:16}),(0,s.jsx)("p",{children:"Create my own secret"})]})]})]}):(0,s.jsx)(z.G,{disabled:!0,type:"default",iconRight:(0,s.jsx)(C.A,{size:14}),tooltip:{content:{side:"bottom",text:"You need additional permissions to generate a new JWT secret"}},children:"Generate a new secret"})})]})})}),ed?(0,s.jsxs)(Z.Z,{type:"warning",title:"Failed to update JWT secret",children:["Please try again. If the failures persist, please contact Supabase support with the following details: ",(0,s.jsx)("br",{}),"Change tracking ID: ",null==v?void 0:v.changeTrackingId," ",(0,s.jsx)("br",{}),"Error message: ",ex]}):null]})]})})})}},null==L?void 0:L.JWT_EXP),(0,s.jsx)(Y.A,{variant:"destructive",size:"medium",visible:p,title:"Confirm to generate a new JWT secret",confirmLabel:"Generate new secret",confirmLabelLoading:"Generating",onCancel:()=>g(!1),onConfirm:()=>eg("ROLL",g),alert:{title:"This will invalidate all existing API keys",description:(0,s.jsxs)(s.Fragment,{children:["Generating a new JWT secret will invalidate ",(0,s.jsx)("u",{className:"text-foreground",children:"all"})," of your API keys, including your ",(0,s.jsx)("code",{className:"text-xs",children:"service_role"})," and"," ",(0,s.jsx)("code",{className:"text-xs",children:"anon"})," keys. Your project will also be restarted during this process, which will terminate any existing connections. You may receive API errors for up to 2 minutes while the new secret is deployed."]})},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"JWTSettings.tsx",children:(0,s.jsx)("p",{className:"text-foreground text-sm",children:"This action cannot be undone and the old JWT secret will be lost. All existing API keys will be invalidated, and any open connections will be terminated."})}),(0,s.jsx)(K.A,{header:"Create a custom JWT secret",visible:x,size:"medium",variant:"danger",loading:D,customFooter:(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)(O.$,{type:"default",onClick:()=>h(!1),children:"Cancel"}),(0,s.jsx)(O.$,{type:"primary",disabled:a.length<32||a.includes("@")||a.includes("$"),loading:D,onClick:()=>eg(a,h),children:"Apply new JWT secret"})]}),"data-sentry-element":"Modal","data-sentry-source-file":"JWTSettings.tsx",children:(0,s.jsxs)(K.A.Content,{className:"space-y-2","data-sentry-element":"unknown","data-sentry-source-file":"JWTSettings.tsx",children:[(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Create a custom JWT secret. Make sure it is a strong combination of characters that cannot be guessed easily."}),(0,s.jsxs)($.Fc,{variant:"warning","data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"JWTSettings.tsx",children:[(0,s.jsx)(Q.id,{"data-sentry-element":"WarningIcon","data-sentry-source-file":"JWTSettings.tsx"}),(0,s.jsx)($.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"JWTSettings.tsx",children:"This will invalidate all existing API keys"}),(0,s.jsxs)($.TN,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"JWTSettings.tsx",children:["Generating a new JWT secret will invalidate ",(0,s.jsx)("u",{className:"text-foreground",children:"all"})," of your API keys, including your ",(0,s.jsx)("code",{className:"text-xs",children:"service_role"})," and"," ",(0,s.jsx)("code",{className:"text-xs",children:"anon"})," keys. Your project will also be restarted during this process, which will terminate any existing connections."]})]}),(0,s.jsx)(w.A,{onChange:e=>n(e.target.value),value:a,icon:(0,s.jsx)(T.A,{}),type:d?"text":"password",className:"w-full text-left",label:"Custom JWT secret",descriptionText:"Minimally 32 characters long, '@' and '$' are not allowed.",actions:(0,s.jsx)("div",{className:"flex items-center justify-center mr-1",children:(0,s.jsx)(O.$,{type:"default",icon:d?(0,s.jsx)(E.A,{}):(0,s.jsx)(R.A,{}),onClick:()=>u(!d)})}),"data-sentry-element":"Input","data-sentry-source-file":"JWTSettings.tsx"})]})})]})};var es=a(32981),er=a(8848),en=a.n(er),el=a(26629),ei=a(63320),eo=a.n(ei),ec=a(87494),ed=a(39353),eu=a(67007),em=a(134),ex=a(73549),eh=a(73900),ef=a(15665),ep=a(85669),eg=a(11375),ey=a(16580),eb=a(79193),ej=a(81250),ev=a(49189),ew=a(27787),eN=a(16993),eS=a(64238),eA=a(24059),eP=a(68324),ek=a(77570);async function eC(e){let{projectRef:t,connectionString:a,existingPostgrestConfig:s}=e;await (0,ek.E)({projectRef:t,connectionString:a,sql:"\ncreate schema if not exists api;\ngrant usage on schema api to anon, authenticated;\n  ".trim()});let{db_extra_search_path:r,db_pool:n,db_schema:l,max_rows:i}=s,{error:o}=await (0,D.F6)("/platform/projects/{ref}/config/postgrest",{params:{path:{ref:t}},body:{db_pool:n,max_rows:i,db_extra_search_path:r,db_schema:"api, ".concat(l)}});return o&&(0,D.H4)(o),!0}let eI=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,n.jE)();return(0,F.n)(e=>eC(e),{async onSuccess(t,a,r){let{projectRef:n}=a;await Promise.all([s.invalidateQueries(eP.c.schemas(n)),s.invalidateQueries(p.n.postgrest(n))]),await (null==e?void 0:e(t,a,r))},async onError(e,a,s){void 0===t?o.oR.error("Failed to create and expose API schema: ".concat(e.message)):t(e,a,s)},...a})};var e_=a(83634),eT=a(34587),eE=a(78873);let eR=e=>{var t;let{visible:a,onClose:r}=e,n=(0,e_.KT)(),{data:l}=(0,ef.w$)({projectRef:null==n?void 0:n.ref,connectionString:null==n?void 0:n.connectionString}),{data:i}=(0,W.y)({projectRef:null==n?void 0:n.ref}),c=(null!=l?l:[]).find(e=>"api"===e.name),d=null!=(t=null==i?void 0:i.db_schema.split(",").map(e=>e.trim()))?t:[],u=d.includes("api"),m=d.includes("public"),{mutate:x,isLoading:h}=eI({onSuccess:()=>{o.oR.success("Successfully created api schema and exposed via Data API")}}),{mutate:f,isLoading:p}=(0,ex.c)({onSuccess:()=>{o.oR.success("Success removed public schema from exposed schemas")}});return(0,s.jsx)(eT.lG,{open:a,onOpenChange:r,"data-sentry-element":"Dialog","data-sentry-component":"HardenAPIModal","data-sentry-source-file":"HardenAPIModal.tsx",children:(0,s.jsxs)(eT.Cf,{size:"large","data-sentry-element":"DialogContent","data-sentry-source-file":"HardenAPIModal.tsx",children:[(0,s.jsxs)(eT.c7,{"data-sentry-element":"DialogHeader","data-sentry-source-file":"HardenAPIModal.tsx",children:[(0,s.jsx)(eT.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"HardenAPIModal.tsx",children:"Switch the default API schema"}),(0,s.jsxs)(eT.rr,{"data-sentry-element":"DialogDescription","data-sentry-source-file":"HardenAPIModal.tsx",children:["Expose a custom schema instead of the"," ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema"]})]}),(0,s.jsx)(eT.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"HardenAPIModal.tsx"}),(0,s.jsxs)(eT.OO,{className:"text-sm text-foreground-light","data-sentry-element":"DialogSection","data-sentry-source-file":"HardenAPIModal.tsx",children:[(0,s.jsxs)("p",{children:["By default, the ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema is used to generate API routes. In some cases, it's better to use a custom schema. This is important if you use tools that generate tables in the"," ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema to"," ",(0,s.jsx)("span",{className:"text-brand",children:"prevent accidental exposure of data"}),"."]}),(0,s.jsx)(eu.A,{abbrev:!1,className:"w-min mt-4",href:"https://supabase.com/docs/guides/database/hardening-data-api","data-sentry-element":"DocsButton","data-sentry-source-file":"HardenAPIModal.tsx"})]}),(0,s.jsx)(eT.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"HardenAPIModal.tsx"}),(0,s.jsxs)(eb.Nt,{"data-sentry-element":"Collapsible_Shadcn_","data-sentry-source-file":"HardenAPIModal.tsx",children:[(0,s.jsxs)(eb.R6,{className:"py-4 px-5 w-full flex items-center justify-between text-sm","data-sentry-element":"CollapsibleTrigger_Shadcn_","data-sentry-source-file":"HardenAPIModal.tsx",children:[(0,s.jsxs)("p",{children:["1. Create a custom ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"api"})," schema and expose it"]}),c&&u?(0,s.jsx)(eS.A,{size:16,className:"text-brand"}):(0,s.jsx)(C.A,{size:16,className:"transition data-open-parent:rotate-180 data-closed-parent:rotate-0"})]}),(0,s.jsxs)(eb.Ke,{className:"text-sm text-foreground-light flex flex-col gap-y-4","data-sentry-element":"CollapsibleContent_Shadcn_","data-sentry-source-file":"HardenAPIModal.tsx",children:[(0,s.jsxs)("p",{className:"mx-5",children:["Click the button below to create a new schema named"," ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"api"})," and grant the"," ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"anon"})," and"," ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"authenticated"})," roles usage privileges on this schema. This schema will thereafter also be exposed to the Data API."]}),(0,s.jsx)("div",{className:"px-5",children:(0,s.jsx)(eA.A,{title:"How is the schema created?",description:(0,s.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,s.jsxs)("p",{children:["The following query will be run to create the"," ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"api"})," schema , as well as to grant the necessary privileges to the respective roles"]}),(0,s.jsx)(eE.N,{language:"sql",className:"p-1 language-bash prose dark:prose-dark max-w-[68.3ch]",children:"create schema if not exists api;\ngrant usage on schema api to anon, authenticated;"})]}),"data-sentry-element":"InformationBox","data-sentry-source-file":"HardenAPIModal.tsx"})}),(0,s.jsx)(z.G,{type:"primary",className:"w-min mx-5",onClick:()=>void 0===n?console.error("Project is required"):void 0===i?console.error("Postgrest config is required"):void x({projectRef:null==n?void 0:n.ref,connectionString:null==n?void 0:n.connectionString,existingPostgrestConfig:{max_rows:i.max_rows,db_pool:i.db_pool,db_schema:i.db_schema,db_extra_search_path:null==i?void 0:i.db_extra_search_path}}),disabled:c&&u,loading:h,tooltip:{content:{side:"right",text:c&&u?"Schema has already been created and exposed":void 0}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"HardenAPIModal.tsx",children:"Create and expose schema to Data API"}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 px-5 pb-4",children:[(0,s.jsxs)("p",{children:["Under these new settings, the ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"anon"})," ","and ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"authenticated"})," roles can execute functions defined in the ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"api"})," ","schema, but they have no automatic permissions on any tables. On a table-by-table basis, you can grant them permissions by running the following command:"]}),(0,s.jsx)(eE.N,{language:"sql",className:"p-1 language-bash prose dark:prose-dark max-w-[68.3ch]","data-sentry-element":"CodeBlock","data-sentry-source-file":"HardenAPIModal.tsx",children:"grant select on table api.<your_table> to anon;\ngrant select, insert, update, delete on table api.<your_table> to authenticated;"})]})]})]}),(0,s.jsx)(eT.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"HardenAPIModal.tsx"}),(0,s.jsxs)(eb.Nt,{"data-sentry-element":"Collapsible_Shadcn_","data-sentry-source-file":"HardenAPIModal.tsx",children:[(0,s.jsxs)(eb.R6,{className:"py-4 px-5 w-full flex items-center justify-between text-sm","data-sentry-element":"CollapsibleTrigger_Shadcn_","data-sentry-source-file":"HardenAPIModal.tsx",children:[(0,s.jsxs)("p",{children:["2. Remove the ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema from the exposed schemas"]}),m?(0,s.jsx)(C.A,{size:16,className:"transition data-open-parent:rotate-180 data-closed-parent:rotate-0"}):(0,s.jsx)(eS.A,{size:16,className:"text-brand"})]}),(0,s.jsx)(eb.Ke,{className:"text-sm text-foreground-light","data-sentry-element":"CollapsibleContent_Shadcn_","data-sentry-source-file":"HardenAPIModal.tsx",children:(0,s.jsxs)("div",{className:"px-5 pb-4 flex flex-col gap-y-4",children:[(0,s.jsxs)($.Fc,{variant:"warning","data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"HardenAPIModal.tsx",children:[(0,s.jsx)(Q.id,{"data-sentry-element":"WarningIcon","data-sentry-source-file":"HardenAPIModal.tsx"}),(0,s.jsxs)($.XL,{className:"text-foreground","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"HardenAPIModal.tsx",children:["Ensure that your app is no longer using the"," ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema"]}),(0,s.jsxs)($.TN,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"HardenAPIModal.tsx",children:["The ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema will not be accessible via the API once its not exposed. You should be using the"," ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"api"})," schema instead."]})]}),(0,s.jsxs)("p",{children:["Click the button below to remove the"," ",(0,s.jsx)("code",{className:"text-xs text-foreground",children:"public"})," schema from both Exposed schemas and Extra search path in your API configuration."]}),(0,s.jsx)(z.G,{type:"primary",className:"w-min",disabled:!m,loading:p,tooltip:{content:{side:"right",text:m?void 0:"Public schema no longer exposed"}},onClick:()=>{if(void 0===n)return console.error("Project is required");if(void 0===i)return console.error("Postgrest config is required");let e=i.db_extra_search_path.split(",").map(e=>e.trim()).filter(e=>"public"!==e).join(", "),t=i.db_schema.split(",").map(e=>e.trim()).filter(e=>"public"!==e).join(", ");f({projectRef:n.ref,maxRows:i.max_rows,dbPool:i.db_pool,dbSchema:t,dbExtraSearchPath:e})},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"HardenAPIModal.tsx",children:"Remove public schema from exposed schemas"})]})})]})]})})},eM=ed.z.object({dbSchema:ed.z.array(ed.z.string()),dbExtraSearchPath:ed.z.string(),maxRows:ed.z.number().max(1e6,"Can't be more than 1,000,000"),dbPool:ed.z.number().min(0,"Must be more than 0").max(1e3,"Can't be more than 1000").optional().nullable(),enableDataApi:ed.z.boolean()}).refine(e=>!e.enableDataApi||0!==e.dbSchema.length,{message:"Must have at least one schema if Data API is enabled",path:["dbSchema"]}),ez=()=>{var e,t;let{ref:a}=(0,c.g)(),{project:r}=(0,d.Om)(),[n,l]=(0,i.useState)(!1),{data:u,isError:m}=(0,W.y)({projectRef:a}),{data:x}=(0,eh.z)({projectRef:null==r?void 0:r.ref,connectionString:null==r?void 0:r.connectionString}),{data:h,isLoading:f}=(0,ef.w$)({projectRef:null==r?void 0:r.ref,connectionString:null==r?void 0:r.connectionString}),{mutate:p,isLoading:g}=(0,ex.c)({onSuccess:()=>{o.oR.success("Successfully saved settings")}}),y="project-postgres-config",b=["auth","pgbouncer","hooks","extensions"],j=(0,q.SE)(P.aG.UPDATE,"custom_config_postgrest"),v=(null==(e=(null!=x?x:[]).find(e=>"pg_graphql"===e.name))?void 0:e.installed_version)!==null,w=(null==u?void 0:u.db_schema)?null==u?void 0:u.db_schema.replace(/ /g,"").split(","):[],N={dbSchema:w,maxRows:null==u?void 0:u.max_rows,dbExtraSearchPath:null==u?void 0:u.db_extra_search_path,dbPool:null==u?void 0:u.db_pool},S=(0,ec.mN)({resolver:(0,es.u)(eM),mode:"onChange",defaultValues:N}),A=null!=(t=null==h?void 0:h.filter(e=>{if(0>en()(b,e.name))return e}).map(e=>({id:e.id,value:e.name,name:e.name,disabled:!1})))?t:[];function k(){let e=null!=u&&!!u.db_schema;S.reset({...N,enableDataApi:e})}let C=async e=>{if(!a)return console.error("Project ref is required");p({projectRef:a,dbSchema:e.dbSchema.join(", "),maxRows:e.maxRows,dbExtraSearchPath:e.dbExtraSearchPath,dbPool:e.dbPool?e.dbPool:null})};(0,i.useEffect)(()=>{u&&k()},[u]);let I=S.getValues("enableDataApi");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ep.lV,{...S,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"PostgrestConfig.tsx",children:(0,s.jsx)("form",{id:y,onSubmit:S.handleSubmit(C),children:(0,s.jsxs)(em.ge,{"data-sentry-element":"FormPanelContainer","data-sentry-source-file":"PostgrestConfig.tsx",children:[(0,s.jsxs)(em.gI,{className:"flex items-center justify-between","data-sentry-element":"FormPanelHeader","data-sentry-source-file":"PostgrestConfig.tsx",children:[(0,s.jsx)("span",{children:"Data API Settings"}),(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)(eu.A,{href:"https://supabase.com/docs/guides/database/connecting-to-postgres#data-apis","data-sentry-element":"DocsButton","data-sentry-source-file":"PostgrestConfig.tsx"}),(0,s.jsx)(O.$,{type:"default",icon:(0,s.jsx)(el.A,{}),onClick:()=>l(!0),"data-sentry-element":"Button","data-sentry-source-file":"PostgrestConfig.tsx",children:"Harden Data API"})]})]}),(0,s.jsxs)(em.YX,{"data-sentry-element":"FormPanelContent","data-sentry-source-file":"PostgrestConfig.tsx",children:[m?(0,s.jsx)(Z.Z,{type:"destructive",title:"Failed to retrieve API settings"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ep.zB,{control:S.control,name:"enableDataApi",render:e=>{let{field:t}=e;return(0,s.jsxs)(ep.eI,{className:"w-full",children:[(0,s.jsx)(ew.M,{className:"w-full px-8 py-8",layout:"flex",label:"Enable Data API",description:"When enabled you will be able to use any Supabase client library and PostgREST endpoints with any schema configured below.",children:(0,s.jsx)(ep.MJ,{children:(0,s.jsx)(eg.d,{size:"large",disabled:!j,checked:t.value,onCheckedChange:e=>{t.onChange(e),e?(S.setValue("enableDataApi",!0),S.setValue("dbSchema",w)):(S.setValue("enableDataApi",!1),S.setValue("dbSchema",[]))}})})}),!t.value&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ey.w,{}),(0,s.jsxs)($.Fc,{variant:"warning",className:"mb-0 border-none rounded-none",children:[(0,s.jsx)(Q.id,{className:"!left-[2rem]"}),(0,s.jsx)($.XL,{className:"!pl-[3.5rem] !left-[6rem]",children:"No schemas can be queried"}),(0,s.jsxs)($.TN,{className:"!pl-[3.5rem]",children:[(0,s.jsx)("p",{children:"With this setting disabled, you will not be able to query any schemas via the Data API."}),(0,s.jsxs)("p",{children:["You will see errors from the Postgrest endpoint",(0,s.jsx)("code",{className:"text-xs",children:"/rest/v1/"}),"."]})]})]})]})]})}}),(0,s.jsx)(eb.Nt,{open:S.getValues("enableDataApi"),children:(0,s.jsxs)(eb.Ke,{className:"border-t divide-y transition-all data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:[(0,s.jsx)(ep.zB,{control:S.control,name:"dbSchema",render:e=>{let{field:t}=e;return(0,s.jsx)(ep.eI,{className:"w-full",children:(0,s.jsxs)(ew.M,{label:"Exposed schemas",description:"The schemas to expose in your API. Tables, views and stored procedures in these schemas will get API endpoints.",layout:"horizontal",className:"px-8 py-8",children:[f?(0,s.jsx)("div",{className:"col-span-12 flex flex-col gap-2 lg:col-span-7",children:(0,s.jsx)(ej.E,{className:"w-full h-[38px]"})}):(0,s.jsxs)(eN.xf,{onValuesChange:t.onChange,values:t.value,size:"small",disabled:!j||!I,children:[(0,s.jsx)(eN.hw,{mode:"inline-combobox",label:"Select schemas for Data API...",badgeLimit:"wrap",showIcon:!1,deletableBadge:!0}),(0,s.jsx)(eN.sD,{children:(0,s.jsx)(eN.DG,{children:A.length<=0?(0,s.jsx)(eN.Oe,{value:"no",children:"no"},"empty"):(0,s.jsx)(s.Fragment,{children:A.map(e=>(0,s.jsx)(eN.Oe,{value:e.name,children:e.name},e.id+"-"+e.name))})})})]}),!t.value.includes("public")&&t.value.length>0&&(0,s.jsx)(Z.Z,{type:"default",title:"The public schema for this project is not exposed",className:"mt-2",description:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{children:["You will not be able to query tables and views in the"," ",(0,s.jsx)("code",{children:"public"})," schema via supabase-js or HTTP clients."]}),v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{children:["Tables in the ",(0,s.jsx)("code",{className:"text-xs",children:"public"})," ","schema are still exposed over our GraphQL endpoints."]}),(0,s.jsx)(O.$,{asChild:!0,type:"default",children:(0,s.jsx)(eo(),{href:"/project/".concat(a,"/database/extensions"),children:"Disable the pg_graphql extension"})})]})]})})]})})}}),(0,s.jsx)(ep.zB,{control:S.control,name:"dbExtraSearchPath",render:e=>{let{field:t}=e;return(0,s.jsx)(ep.eI,{className:"w-full",children:(0,s.jsx)(ew.M,{className:"w-full px-8 py-8",layout:"horizontal",label:"Extra search path",description:"Extra schemas to add to the search path of every request. Multiple schemas must be comma-separated.",children:(0,s.jsx)(ep.MJ,{children:(0,s.jsx)(ev.p,{size:"small",disabled:!j||!I,...t})})})})}}),(0,s.jsx)(ep.zB,{control:S.control,name:"maxRows",render:e=>{let{field:t}=e;return(0,s.jsx)(ep.eI,{className:"w-full",children:(0,s.jsx)(ew.M,{className:"w-full px-8 py-8",layout:"horizontal",label:"Max rows",description:"The maximum number of rows returned from a view, table, or stored procedure. Limits payload size for accidental or malicious requests.",children:(0,s.jsx)(ep.MJ,{children:(0,s.jsx)(ev.p,{size:"small",disabled:!j||!I,...t,type:"number",...S.register("maxRows",{valueAsNumber:!0})})})})})}}),(0,s.jsx)(ep.zB,{control:S.control,name:"dbPool",render:e=>{let{field:t}=e;return(0,s.jsx)(ep.eI,{className:"w-full",children:(0,s.jsx)(ew.M,{className:"w-full px-8 py-8",layout:"horizontal",label:"Pool size",description:"Number of maximum connections to keep open in the Data API server's database pool. Unset to let it be configured automatically based on compute size.",children:(0,s.jsx)(ep.MJ,{children:(0,s.jsx)(ev.p,{size:"small",disabled:!j||!I,...t,type:"number",placeholder:"Configured automatically based on compute size",onChange:e=>t.onChange(""===e.target.value?null:Number(e.target.value)),value:null===t.value?"":t.value})})})})}})]})})]}),(0,s.jsx)(em._4,{className:"flex px-8 py-4","data-sentry-element":"FormPanelFooter","data-sentry-source-file":"PostgrestConfig.tsx",children:(0,s.jsx)(ee.I,{form:y,isSubmitting:g,hasChanges:S.formState.isDirty,handleReset:k,disabled:!j,helper:j?void 0:"You need additional permissions to update your project's API settings","data-sentry-element":"FormActions","data-sentry-source-file":"PostgrestConfig.tsx"})})]})]})})}),(0,s.jsx)(eR,{visible:n,onClose:()=>l(!1),"data-sentry-element":"HardenAPIModal","data-sentry-source-file":"PostgrestConfig.tsx"})]})},eF=()=>{var e,t;let a=(0,n.jE)(),{project:A,isLoading:P}=(0,d.Om)(),{ref:k,source:C}=(0,c.g)(),I=(0,v.RE)(),{data:_}=(0,g.A)({projectRef:k}),{data:T,isError:E}=(0,b.Vh)({projectRef:k}),{data:R}=(0,y.z)({projectRef:k}),{data:M}=(0,f.l)({projectRef:k}),z=null==M?void 0:M.jwtSecretUpdateStatus,F=null==M?void 0:M.jwtSecretUpdateError,D=(0,i.useRef)(),{Failed:L,Updated:J,Updating:W}=r.bh,H=S[F],U=(null==_||null==(e=_.customDomain)?void 0:e.status)==="active",q=null==T?void 0:T.find(e=>e.identifier===I.selectedDatabaseId),B="load-balancer"===I.selectedDatabaseId,V=(null==q?void 0:q.identifier)!==k,G=U&&I.selectedDatabaseId===k?"https://".concat(_.customDomain.hostname):B?null!=(t=null==R?void 0:R[0].endpoint)?t:"":null==q?void 0:q.restUrl;return(0,i.useEffect)(()=>{if(D.current===W)switch(z){case J:a.invalidateQueries(p.n.api(k)),a.invalidateQueries(p.n.settings(k)),a.invalidateQueries(p.n.postgrest(k)),o.oR.success("Successfully updated JWT secret");break;case L:o.oR.error("JWT secret update failed: ".concat(H))}D.current=z},[z]),(0,i.useEffect)(()=>{void 0!==C&&I.setSelectedDatabaseId("load-balancer")},[C]),(0,s.jsx)("div",{"data-sentry-component":"ServiceList","data-sentry-source-file":"ServiceList.tsx",children:P?(0,s.jsx)(h.y,{}):(null==A?void 0:A.status)!==j.BU.ACTIVE_HEALTHY?(0,s.jsxs)("div",{className:"flex items-center justify-center rounded border border-overlay bg-surface-100 p-8",children:[(0,s.jsx)(l.A,{size:16}),(0,s.jsx)("p",{className:"text-sm text-foreground-light ml-2",children:"API settings are unavailable as the project is not active"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("section",{children:(0,s.jsx)(m.A,{title:(0,s.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,s.jsx)("h5",{className:"mb-0",children:"Project URL"}),(0,s.jsx)(u.A,{additionalOptions:(null!=R?R:[]).length>0?[{id:"load-balancer",name:"API Load Balancer"}]:[]})]}),children:(0,s.jsx)(m.A.Content,{children:E?(0,s.jsxs)("div",{className:"flex items-center justify-center py-4 space-x-2",children:[(0,s.jsx)(l.A,{size:16}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Failed to retrieve project URL"})]}):(0,s.jsx)(w.A,{copy:!0,label:U?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{children:"URL"}),(0,s.jsx)(N.E,{children:"Custom domain active"})]}):"URL",readOnly:!0,disabled:!0,className:"input-mono",value:G,descriptionText:B?"RESTful endpoint for querying and managing your databases through your load balancer":V?"RESTful endpoint for querying your read replica":"RESTful endpoint for querying and managing your database",layout:"horizontal"})})})}),(0,s.jsx)("section",{children:(0,s.jsx)(x.K,{},"DisplayAPISettings")}),(0,s.jsx)("section",{id:"jwt-settings",children:(0,s.jsx)(ea,{})}),(0,s.jsx)("section",{id:"postgrest-config",children:(0,s.jsx)(ez,{})})]})})};var eD=a(67397),eL=a(95293),eJ=a(95207);let eW=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eJ.eh,{id:"billing-page-top","data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"api.tsx",children:(0,s.jsx)(eJ.Uw,{"data-sentry-element":"ScaffoldHeader","data-sentry-source-file":"api.tsx",children:(0,s.jsx)(eJ.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"api.tsx",children:"API Settings"})})}),(0,s.jsx)(eJ.eh,{bottomPadding:!0,"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"api.tsx",children:(0,s.jsx)(eF,{"data-sentry-element":"ServiceList","data-sentry-source-file":"api.tsx"})})]});eW.getLayout=e=>(0,s.jsx)(eD.A,{children:(0,s.jsx)(eL.A,{title:"API Settings",children:e})});let eH=eW},73549:(e,t,a)=>{"use strict";a.d(t,{c:()=>c});var s=a(32144),r=a(80251),n=a(73969),l=a(3807),i=a(32429);async function o(e){let{projectRef:t,dbSchema:a,maxRows:s,dbExtraSearchPath:r,dbPool:n}=e,i={db_schema:a,max_rows:s,db_extra_search_path:r};n&&(i.db_pool=n);let{data:o,error:c}=await (0,l.F6)("/platform/projects/{ref}/config/postgrest",{params:{path:{ref:t}},body:i});return c&&(0,l.H4)(c),o}let c=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,s.jE)();return(0,r.n)(e=>o(e),{async onSuccess(t,a,s){let{projectRef:r}=a;l.invalidateQueries(i.n.postgrest(r)),await (null==e?void 0:e(t,a,s))},async onError(e,a,s){void 0===t?n.oR.error("Failed to update Postgrest config: ".concat(e.message)):t(e,a,s)},...a})}},73900:(e,t,a)=>{"use strict";a.d(t,{z:()=>c});var s=a(56947),r=a(3807),n=a(32405),l=a(83634),i=a(58897);async function o(e,t){let{projectRef:a,connectionString:s}=e;if(!a)throw Error("projectRef is required");let n=new Headers;s&&n.set("x-connection-encrypted",s);let{data:l,error:i}=await (0,r.Jt)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":s},path:{ref:a}},headers:n,signal:t});return i&&(0,r.H4)(i),l}let c=function(e){let{projectRef:t,connectionString:a}=e,{enabled:r=!0,...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,l.KT)(),u=(null==d?void 0:d.status)===i.BU.ACTIVE_HEALTHY;return(0,s.I)(n.I.list(t),e=>{let{signal:s}=e;return o({projectRef:t,connectionString:a},s)},{enabled:r&&void 0!==t&&u,...c})}},80109:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(80263),r=a(53239),n=a(92809),l=a(34214);function i(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function o(e){let{validate:t,...a}=e,[o,c]=(0,r.useReducer)(i,null),d=(0,n.Wx)({validateOnBlur:!0,...a,validationSchema:a.validationSchema,initialValues:a.initialValues,onSubmit:a.onSubmit,validate:t||function(){return o}});return(0,s.jsx)("form",{id:a.id,name:a.name,onSubmit:d.handleSubmit,className:a.className,style:a.style,method:"POST","data-sentry-component":"Form","data-sentry-source-file":"Form.tsx",children:(0,s.jsx)(l.h,{values:d.values,errors:d.errors,formContextOnChange:d.handleChange,handleBlur:d.handleBlur,touched:d.touched,fieldLevelValidation:function(e,t){c({key:e,error:t})},"data-sentry-element":"FormContextProvider","data-sentry-source-file":"Form.tsx",children:a.children({errors:d.errors,touched:d.touched,isSubmitting:d.isSubmitting,isValidating:d.isValidating,submitCount:d.submitCount,initialValues:d.initialValues,values:d.values,handleReset:d.handleReset,resetForm:d.resetForm,setFieldValue:d.setFieldValue})})})}},86137:(e,t,a)=>{"use strict";a.d(t,{$E:()=>d,kV:()=>o,op:()=>c});var s=a(56947),r=a(32144),n=a(3807),l=a(53239),i=a(67849);async function o(e,t){let{projectRef:a}=e;if(!a)throw Error("projectRef is required");let{data:s,error:r}=await (0,n.Jt)("/platform/auth/{ref}/config",{params:{path:{ref:a}},signal:t});return r&&(0,n.H4)(r),s}let c=function(e){let{projectRef:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.I)(i.Z.authConfig(t),e=>{let{signal:a}=e;return o({projectRef:t},a)},{enabled:a&&void 0!==t,...r})},d=e=>{let{projectRef:t}=e,a=(0,r.jE)();return(0,l.useCallback)(()=>{t&&a.prefetchQuery(i.Z.authConfig(t),e=>{let{signal:a}=e;return o({projectRef:t},a)})},[a,t])}},95207:(e,t,a)=>{"use strict";a.d(t,{BS:()=>i,Dm:()=>d,HJ:()=>b,Rf:()=>g,Uw:()=>c,Vw:()=>w,Xr:()=>v,aw:()=>f,bV:()=>l,cJ:()=>x,dX:()=>u,eh:()=>o,fh:()=>j,gu:()=>m,sZ:()=>h,tn:()=>y,xp:()=>p});var s=a(80263),r=a(53239),n=a(2);let l="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-12 @2xl:px-20 @3xl:px-24",o=(0,r.forwardRef)((e,t)=>{let{className:a,bottomPadding:r,size:l="default",...o}=e;return(0,s.jsx)("div",{ref:t,...o,className:(0,n.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[l],i,r&&"pb-16",a)})}),c=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("header",{...r,ref:t,className:(0,n.cn)("w-full","flex-col gap-3 py-6",a)})}),d=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h1",{ref:t,...r,className:(0,n.cn)("text-2xl",a)})}),u=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,...r,className:(0,n.cn)("text-sm text-foreground-light",a)})}),m=(0,r.forwardRef)((e,t)=>{let{className:a,isFullWidth:r,topPadding:l,...i}=e;return(0,s.jsx)("div",{ref:t,...i,className:(0,n.cn)("flex flex-col first:pt-12 py-6",r?"w-full":"gap-3 lg:grid md:grid-cols-12",a)})}),x=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("w-full h-px bg-border",a)})}),h=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,...r,className:(0,n.cn)("text-foreground text-xl",a)})}),f=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,...r,className:(0,n.cn)("text-sm text-foreground-light",a)})}),p=(0,r.forwardRef)((e,t)=>{let{className:a,children:r,title:l,...i}=e;return(0,s.jsxs)("div",{ref:t,...i,className:(0,n.cn)("col-span-4 xl:col-span-5 prose text-sm",a),children:[l&&(0,s.jsx)("h2",{children:l}),r]})}),g=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",a)})}),y=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3 items-center",a)})}),b=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex w-full items-center",a)})}),j=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-row gap-3",a)})}),v=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3","min-w-[420px]",a)})}),w=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)(l,i,"my-8 flex flex-col gap-8",a)})});c.displayName="ScaffoldHeader",d.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",o.displayName="ScaffoldContainer",x.displayName="ScaffoldDivider",m.displayName="ScaffoldSection",v.displayName="ScaffoldColumn",p.displayName="ScaffoldSectionDetail",g.displayName="ScaffoldSectionContent",y.displayName="ScaffoldFilterAndContent",b.displayName="ScaffoldActionsContainer",j.displayName="ScaffoldActionsGroup",w.displayName="ScaffoldContainerLegacy",h.displayName="ScaffoldSectionTitle",f.displayName="ScaffoldSectionDescription"},95293:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(80263),r=a(52385),n=a(53239),l=a(82489),i=a(67144),o=a(45479),c=a(25718),d=a(83634),u=a(29730),m=a(24726),x=a(58897),h=a(88601),f=a(48583);let p=(0,u.r)(e=>{let{title:t,children:a}=e,u=(0,r.useRouter)(),{ref:p}=(0,l.g)(),g=(0,d.KT)(),y=(0,c.a)();(0,n.useEffect)(()=>{x.pe||u.push("/project/default")},[u]);let b=u.pathname.includes("billing")?u.pathname.split("/")[5]:u.pathname.split("/")[4],{projectAuthAll:j,projectEdgeFunctionAll:v,projectStorageAll:w,billingInvoices:N}=(0,o.x)(["project_auth:all","project_edge_function:all","project_storage:all","billing:invoices"]),S=(0,m._)("newApiKeys"),A=(0,f.M)(p,g,y,{auth:j,edgeFunctions:v,storage:w,invoices:N,newApiKeys:S});return(0,s.jsx)(h.A,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,s.jsx)(i.l,{page:b,menu:A}),"data-sentry-element":"ProjectLayout","data-sentry-component":"SettingsLayout","data-sentry-source-file":"SettingsLayout.tsx",children:a})})},97814:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/api",function(){return a(68649)}])},97851:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(80263),r=a(53239),n=a(48591),l=a(33745),i=a(71787),o=a(77690),c=a(34214);let d=function(e){let{defaultValue:t,descriptionText:a,error:d,icon:u,inputRef:m,label:x,afterLabel:h,beforeLabel:f,labelOptional:p,layout:g,value:y,actions:b,size:j="medium",validation:v,id:w="",name:N="",...S}=e,A=(0,o.A)("inputNumber"),{formContextOnChange:P,values:k,errors:C,handleBlur:I,touched:_,fieldLevelValidation:T}=(0,c.x)();k&&!y&&(y=k[w||N]),d||(C&&!d&&(d=C[w||N]),d=_&&_[w||N]?d:void 0),(0,r.useEffect)(()=>{v&&T(w,v(y))},[]);let E=[A.base];return d&&E.push(A.variants.error),d||E.push(A.variants.standard),u&&E.push(A.with_icon),j&&E.push(A.size[j]),S.disabled&&E.push(A.disabled),(0,s.jsx)("div",{className:S.className,"data-sentry-component":"InputNumber","data-sentry-source-file":"InputNumber.tsx",children:(0,s.jsx)(n.H,{label:x,afterLabel:h,beforeLabel:f,labelOptional:p,layout:g,id:w,error:d,descriptionText:a,style:S.style,size:j,"data-sentry-element":"FormLayout","data-sentry-source-file":"InputNumber.tsx",children:(0,s.jsxs)("div",{className:A.container,children:[(0,s.jsx)("input",{"data-size":j,id:w,name:N,onChange:function(e){S.onChange&&S.onChange(e),P&&P(e),v&&T(w,v(e.target.value))},onBlur:function(e){I&&I(e),S.onBlur&&S.onBlur(e)},type:"number",ref:m,value:y,className:E.join(" "),...S}),u&&(0,s.jsx)(i.A,{size:j,icon:u}),d||b?(0,s.jsxs)("div",{className:A.actions_container,children:[d&&(0,s.jsx)(l.A,{size:j}),b&&b]}):null]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[89,9413,6110,3342,4376,2180,7990,8058,5513,5944,4346,2981,6835,7762,9067,2809,6692,2722,7397,886,1152,8601,6593,636,8792],()=>t(97814)),_N_E=e.O()}]);